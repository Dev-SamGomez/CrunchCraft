@model CrunchCraft.Models.ViewModels.InventoryViewModel
@{
	ViewBag.Title = "Inventario";
}


<h2>@ViewBag.Title.</h2>
<h3>@ViewBag.Message</h3>

<div class="row container-tables">
	<div class="col-12">
		<div class="custom-div" data-toggle="modal" data-target="#exampleModal">
			<button class="btn custom-button">Agregar</button>
		</div>
	</div>
	<div class="container">
		<table class="table table-striped">
			<thead>
				<tr>
					<th>ID</th>
					<th>Nombre</th>
					<th>Cantidad</th>
					<th>Precio publico</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var producto in ViewBag.productos)
				{
				<tr>
					<td>@producto.Id</td>
					<td>@producto.Product</td>
					<td>@producto.Qty</td>
					<td>@producto.PublicPrice</td>
					<td>
						<a href="#" class="" data-id="@producto.Id">
							Detalles
						</a>
					</td>
					<td>
						<a href="#" class="editar-producto" data-target="#exampleModal" data-id="@producto.Id" data-product="@producto.Product" data-qty="@producto.Qty" data-public-price="@producto.PublicPrice">
							Editar
						</a>
					</td>
				</tr>
				}
			</tbody>
		</table>
	</div>
	<hr>

</div>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Agregando material</h5>
			</div>
			<div class="modal-body">
				<form asp-controller="AccionController" asp-action="Inventory" method="post">
					<div class="form-group row">
						<label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Nombre producto</label>
						<div class="col-sm-10">
							<input type="text" name="Product" class="form-control form-control-sm" id="colFormLabelSm" placeholder="obligatorio">
						</div>
					</div>
					<div class="form-group row">
						<label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Precio publico</label>
						<div class="col-sm-10">
							<input type="text" name="PublicPrice" class="form-control form-control-sm" id="colFormLabelSm" placeholder="obligatorio">
						</div>
					</div>
					<div class="modal-footer">
						<button type="submit" class="btn btn-primary">Guardar</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
@if (TempData["AlertMessage"] != null)
{
<script>
        $(document).ready(function () {
            alert('@TempData["AlertMessage"]');
        });
</script>}
